<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
    {{$fundsTotalAmount := .Funds.TotalAmount}}
    {{$fundsTotalValue := .Funds.TotalValue}}
    <div>CALCULO CARTEIRA: {{ .Name }}</div>
    <div class="container mx-auto p-4">
        <div class="grid grid-cols-1 gap-4">
            <div class="border-solid border-2 border-sky-500 p-1 bg-slate-300">
                <p class="font-bold">Valor total investido: <span class="font-normal">R${{ money $fundsTotalAmount }}</span></p>
                <p class="font-bold">Valor total atual: <span class="font-normal">R${{ money $fundsTotalValue }}</span></p>
            </div>
        </div>

        <br>

        <div class="grid grid-cols-1 gap-4">
            {{ range $box := .Boxes }}
            <div class="border-solid border-2 border-sky-500 p-1 bg-slate-300">
                <p class="font-bold">Nome: <span class="font-normal">{{ $box.Name }}</span></p>
                <p class="font-bold">Valor investido: <span class="font-normal">R${{ money $box.Amount }}</span></p>
                {{ $ratioAmount := ratio $box.Amount $fundsTotalAmount }}
                <p class="font-bold">Proporção do valor investido: <span class="font-normal">{{ money $ratioAmount }}%</span></p>
                <p class="font-bold">Valor atual: <span class="font-normal">R${{money $box.Value }}</span></p>
                {{ $ratioValue := ratio $box.Value $fundsTotalValue }}
                <p class="font-bold">Proporção do valor atual: <span class="font-normal">{{ money $ratioValue }}%</span></p>
                
            </div>
            {{ end }}
        </div>
    </div>
</body>

</html>